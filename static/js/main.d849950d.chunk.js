(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(11),o=n.n(c),l=(n(18),n(3)),s=n(4),r=n(6),u=n(5),d=n(7),m=(n(20),n(8)),h=n(9),p=n(1),b=n(2),v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(p.a)(Object(p.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(Object(p.a)(n))),n.handleOpen=n.handleOpen.bind(Object(p.a)(Object(p.a)(n))),n.toggleCheckbox=n.toggleCheckbox.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.updateItem(this.props.item.id,{title:this.props.item.input})}},{key:"handleOpen",value:function(){this.props.updateItem(this.props.item.id,{open:!this.props.item.open})}},{key:"handleChange",value:function(e){var t=this,n=this.props.item.conditions.map(function(n){var a=Object.keys(n)[0];return n.checked?t.updateCondition(a,e.target.value):n});this.props.updateItem(this.props.item.id,{input:e.target.value,conditions:n})}},{key:"toggleCheckbox",value:function(e){var t,n=e.target.checked?this.updateCondition(e.target.value,this.props.item.input):(t={},Object(b.a)(t,e.target.value,!0),Object(b.a)(t,"checked",!1),t),a=this.props.item.conditions.map(function(t){return t.hasOwnProperty(e.target.value)?n:t});this.props.updateItem(this.props.item.id,{conditions:a})}},{key:"updateCondition",value:function(e,t){switch(e){case"contains_number":var n;return n={},Object(b.a)(n,e,/[0-9]/.test(t)),Object(b.a)(n,"checked",!0),n;case"2_chars_min":var a;return a={},Object(b.a)(a,e,t.length>=2),Object(b.a)(a,"checked",!0),a;case"not_empty":var i;return i={},Object(b.a)(i,e,""!==t),Object(b.a)(i,"checked",!0),i;default:return}}},{key:"ischecked",value:function(e){return this.props.item.conditions.find(function(t){return Object.keys(t)[0]===e}).checked}},{key:"render",value:function(){var e=this,t=this.props.item,n=t.title,a=t.id,c=t.open,o=t.input,l=t.conditions,s=this.props.removeItem;return i.a.createElement("div",{className:"item"},i.a.createElement("button",{onClick:this.handleOpen},">"),i.a.createElement("span",null,n||"Edit Item Title"),i.a.createElement("button",{onClick:function(){return s(a)}},"\xd7"),c&&i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("sup",null,o.length),i.a.createElement("input",{type:"text",value:o,onChange:this.handleChange}),i.a.createElement("input",{type:"submit",value:"Edit"}),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Conditions:"),l.map(function(t,n){var a=Object.keys(t)[0];return i.a.createElement("div",{key:"cond"+n,className:"conditions"},i.a.createElement("input",{type:"checkbox",id:"cond"+n,name:"condition",value:a,onChange:e.toggleCheckbox,checked:t.checked}),i.a.createElement("label",{htmlFor:"cond"+n},a.replace(/_/g," ")))}))))}}]),t}(a.Component),k=function(e){var t=e.showModal,n=e.titleList.length?e.titleList.map(function(e,t){return i.a.createElement("div",{key:e.title+t,className:e.valid?"green":"red",id:"menu-item"},e.input||"Edit Item Title"," ",i.a.createElement("sub",null,e.input.length))}):null;return i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"menu"},n),e.titleList.reduce(function(e,t){return t.valid?e+=1:e},0)>=4&&i.a.createElement("button",{className:"check",onClick:function(){return t()}},"Check Infos"))},O=function(e){var t=e.items,n=e.showModal,a=t.map(function(e){var t={title:e.title,true_cond:[],false_cond:[],unchecked:[]};return e.conditions.forEach(function(e){Object.values(e)[0]&&e.checked?t.true_cond.push(Object.keys(e)[0]):!Object.values(e)[0]&&e.checked?t.false_cond.push(Object.keys(e)[0]):t.unchecked.push(Object.keys(e)[0])}),Object(m.a)({},t)});return i.a.createElement("div",{id:"modal"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("p",null,"Total items: ",t.length),i.a.createElement("div",{className:"modal-list"},a.length?a.map(function(e){return i.a.createElement("div",{key:e.title,className:"modal-item"},i.a.createElement("h3",null,e.title||"empty title"),i.a.createElement("ul",null,i.a.createElement("li",{className:"green"},"True conditions:",i.a.createElement("br",null),e.true_cond.join(", ").replace(/_/g," ")||"none (nothing checked?)"),i.a.createElement("li",{className:"red"},"False conditions:",i.a.createElement("br",null),e.false_cond.join(", ").replace(/_/g," ")||"none (All good!)"),i.a.createElement("li",{className:"blue"},"Unchecked: (not verified)",i.a.createElement("br",null),e.unchecked.join(", ").replace(/_/g," ")||"none")))}):null),i.a.createElement("button",{className:"close",onClick:function(){return n()}},"\xd7")))};document.createElement("li").className="placeholder";var f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={items:[{title:"home",input:"home",valid:!0,open:!1,id:"one0",conditions:[{contains_number:!0,checked:!1},{"2_chars_min":!0,checked:!1},{not_empty:!0,checked:!1}]},{title:"about",input:"about",valid:!0,open:!1,id:"two1",conditions:[{contains_number:!0,checked:!1},{"2_chars_min":!0,checked:!1},{not_empty:!0,checked:!1}]},{title:"contact",input:"contact",valid:!0,open:!1,id:"three2",conditions:[{contains_number:!0,checked:!1},{"2_chars_min":!0,checked:!1},{not_empty:!0,checked:!1}]}],history:[],modal:!1},n.removeItem=n.removeItem.bind(Object(p.a)(Object(p.a)(n))),n.addItem=n.addItem.bind(Object(p.a)(Object(p.a)(n))),n.updateItem=n.updateItem.bind(Object(p.a)(Object(p.a)(n))),n.handleOpenAll=n.handleOpenAll.bind(Object(p.a)(Object(p.a)(n))),n.cancelAction=n.cancelAction.bind(Object(p.a)(Object(p.a)(n))),n.showModal=n.showModal.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"addItem",value:function(){var e=Math.random(),t=Object(h.a)(this.state.items).concat([{title:"",input:"",valid:!0,open:!1,id:e,conditions:[{contains_number:!0,checked:!1},{"2_chars_min":!0,checked:!1},{not_empty:!0,checked:!1}]}]);this.setState({items:t})}},{key:"removeItem",value:function(e){var t=this.state.items.filter(function(t){return t.id!==e});this.setState({items:t})}},{key:"updateItem",value:function(e,t){t.hasOwnProperty("input")||this.setState({history:Object(h.a)(this.state.history).concat([this.state.items])});var n=this.state.items.find(function(t){return t.id===e});(n=Object(m.a)({},n,t)).valid=!n.conditions.map(function(e){return Object.values(e)[0]}).includes(!1);var a=this.state.items.map(function(t){return t.id===e?Object(m.a)({},n):t});this.setState({items:a})}},{key:"handleOpenAll",value:function(){var e=this.state.items.reduce(function(e,t){return t.open?e+=1:e},0)<this.state.items.length/2,t=this.state.items.map(function(t){return Object(m.a)({},t,{open:e})});this.setState({items:t})}},{key:"cancelAction",value:function(){if(this.state.history.length){var e=this.state.history[this.state.history.length-1],t=this.state.history;t.splice(t.length-1,1),this.setState({items:e,history:t})}}},{key:"showModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,t=this.state.items?this.state.items.map(function(t,n){return i.a.createElement(v,{key:t.title+n,item:t,removeItem:e.removeItem,updateItem:e.updateItem,draggable:"true",onDragStart:e.dragStart})}):null;return i.a.createElement("div",{className:"composer"},i.a.createElement(k,{titleList:this.state.items.map(function(e){return{title:e.title,input:e.input,valid:e.valid}}),showModal:this.showModal}),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.handleOpenAll},">"),i.a.createElement("span",{className:"composer-title"},"Menu Composer"),i.a.createElement("button",{onClick:this.addItem},"+")),t,i.a.createElement("button",{className:"cancel",onClick:this.cancelAction},"cancel"),this.state.modal&&i.a.createElement(O,{items:this.state.items,showModal:this.showModal}))}}]),t}(a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.d849950d.chunk.js.map